{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../../src/@ionic-native/core/decorators/common.ts"],"names":[],"mappings":"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","sourcesContent":["import { fromEvent, Observable } from 'rxjs';\n\nimport { CordovaOptions } from './interfaces';\n\ndeclare const window: any;\n\nexport const ERR_CORDOVA_NOT_AVAILABLE = { error: 'cordova_not_available' };\nexport const ERR_PLUGIN_NOT_INSTALLED = { error: 'plugin_not_installed' };\n\nexport function getPromise<T>(callback: (resolve: Function, reject?: Function) => any): Promise<T> {\n  const tryNativePromise = () => {\n    if (Promise) {\n      return new Promise<T>((resolve, reject) => {\n        callback(resolve, reject);\n      });\n    } else {\n      console.error(\n        'No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.'\n      );\n    }\n  };\n\n  if (typeof window !== 'undefined' && window.angular) {\n    const doc = window.document;\n    const injector = window.angular\n      .element(doc.querySelector('[ng-app]') || doc.body)\n      .injector();\n    if (injector) {\n      const $q = injector.get('$q');\n      return $q((resolve: Function, reject: Function) => {\n        callback(resolve, reject);\n      });\n    }\n    console.warn(\n      `Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.`\n    );\n  }\n\n  return tryNativePromise();\n}\n\nexport function wrapPromise(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: CordovaOptions = {}\n) {\n  let pluginResult: any, rej: Function;\n  const p = getPromise((resolve: Function, reject: Function) => {\n    if (opts.destruct) {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        (...args: any[]) => resolve(args),\n        (...args: any[]) => reject(args)\n      );\n    } else {\n      pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts, resolve, reject);\n    }\n    rej = reject;\n  });\n  // Angular throws an error on unhandled rejection, but in this case we have already printed\n  // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n  // to error\n  if (pluginResult && pluginResult.error) {\n    p.catch(() => {});\n    typeof rej === 'function' && rej(pluginResult.error);\n  }\n  return p;\n}\n\nfunction wrapOtherPromise(pluginObj: any, methodName: string, args: any[], opts: any = {}) {\n  return getPromise((resolve: Function, reject: Function) => {\n    const pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts);\n    if (pluginResult) {\n      if (pluginResult.error) {\n        reject(pluginResult.error);\n      } else if (pluginResult.then) {\n        pluginResult.then(resolve).catch(reject);\n      }\n    } else {\n      reject({ error: 'unexpected_error' });\n    }\n  });\n}\n\nfunction wrapObservable(pluginObj: any, methodName: string, args: any[], opts: any = {}) {\n  return new Observable(observer => {\n    let pluginResult;\n\n    if (opts.destruct) {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        (...args: any[]) => observer.next(args),\n        (...args: any[]) => observer.error(args)\n      );\n    } else {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        observer.next.bind(observer),\n        observer.error.bind(observer)\n      );\n    }\n\n    if (pluginResult && pluginResult.error) {\n      observer.error(pluginResult.error);\n      observer.complete();\n    }\n    return () => {\n      try {\n        if (opts.clearFunction) {\n          if (opts.clearWithArgs) {\n            return callCordovaPlugin(\n              pluginObj,\n              opts.clearFunction,\n              args,\n              opts,\n              observer.next.bind(observer),\n              observer.error.bind(observer)\n            );\n          }\n          return callCordovaPlugin(pluginObj, opts.clearFunction, []);\n        }\n      } catch (e) {\n        console.warn(\n          'Unable to clear the previous observable watch for',\n          pluginObj.constructor.getPluginName(),\n          methodName\n        );\n        console.warn(e);\n      }\n    };\n  });\n}\n\n/**\n * Wrap the event with an observable\n * @private\n * @param event event name\n * @param element The element to attach the event listener to\n * @returns {Observable}\n */\nfunction wrapEventObservable(event: string, element: any): Observable<any> {\n  element = (typeof window !== 'undefined' && element) ? get(window, element) : element || (typeof window !== 'undefined' ? window : {});\n  return fromEvent(element, event);\n}\n\n/**\n * Checks if plugin/cordova is available\n * @return {boolean | { error: string } }\n * @private\n */\nexport function checkAvailability(\n  pluginRef: string,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string };\nexport function checkAvailability(\n  pluginObj: any,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string };\nexport function checkAvailability(\n  plugin: any,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string } {\n  let pluginRef, pluginInstance, pluginPackage;\n\n  if (typeof plugin === 'string') {\n    pluginRef = plugin;\n  } else {\n    pluginRef = plugin.constructor.getPluginRef();\n    pluginName = plugin.constructor.getPluginName();\n    pluginPackage = plugin.constructor.getPluginInstallName();\n  }\n\n  pluginInstance = getPlugin(pluginRef);\n\n  if (!pluginInstance || (!!methodName && typeof pluginInstance[methodName] === 'undefined')) {\n    if (typeof window === 'undefined' || !window.cordova) {\n      cordovaWarn(pluginName, methodName);\n      return ERR_CORDOVA_NOT_AVAILABLE;\n    }\n\n    pluginWarn(pluginName, pluginPackage, methodName);\n    return ERR_PLUGIN_NOT_INSTALLED;\n  }\n\n  return true;\n}\n\n/**\n * Checks if _objectInstance exists and has the method/property\n * @private\n */\nexport function instanceAvailability(pluginObj: any, methodName?: string): boolean {\n  return (\n    pluginObj._objectInstance &&\n    (!methodName || typeof pluginObj._objectInstance[methodName] !== 'undefined')\n  );\n}\n\nexport function setIndex(args: any[], opts: any = {}, resolve?: Function, reject?: Function): any {\n  // ignore resolve and reject in case sync\n  if (opts.sync) {\n    return args;\n  }\n\n  // If the plugin method expects myMethod(success, err, options)\n  if (opts.callbackOrder === 'reverse') {\n    // Get those arguments in the order [resolve, reject, ...restOfArgs]\n    args.unshift(reject);\n    args.unshift(resolve);\n  } else if (opts.callbackStyle === 'node') {\n    args.push((err: any, result: any) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(result);\n      }\n    });\n  } else if (opts.callbackStyle === 'object' && opts.successName && opts.errorName) {\n    const obj: any = {};\n    obj[opts.successName] = resolve;\n    obj[opts.errorName] = reject;\n    args.push(obj);\n  } else if (typeof opts.successIndex !== 'undefined' || typeof opts.errorIndex !== 'undefined') {\n    const setSuccessIndex = () => {\n      // If we've specified a success/error index\n      if (opts.successIndex > args.length) {\n        args[opts.successIndex] = resolve;\n      } else {\n        args.splice(opts.successIndex, 0, resolve);\n      }\n    };\n\n    const setErrorIndex = () => {\n      // We don't want that the reject cb gets spliced into the position of an optional argument that has not been\n      // defined and thus causing non expected behavior.\n      if (opts.errorIndex > args.length) {\n        args[opts.errorIndex] = reject; // insert the reject fn at the correct specific index\n      } else {\n        args.splice(opts.errorIndex, 0, reject); // otherwise just splice it into the array\n      }\n    };\n\n    if (opts.successIndex > opts.errorIndex) {\n      setErrorIndex();\n      setSuccessIndex();\n    } else {\n      setSuccessIndex();\n      setErrorIndex();\n    }\n  } else {\n    // Otherwise, let's tack them on to the end of the argument list\n    // which is 90% of cases\n    args.push(resolve);\n    args.push(reject);\n  }\n  return args;\n}\n\nexport function callCordovaPlugin(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {},\n  resolve?: Function,\n  reject?: Function\n) {\n  // Try to figure out where the success/error callbacks need to be bound\n  // to our promise resolve/reject handlers.\n  args = setIndex(args, opts, resolve, reject);\n\n  const availabilityCheck = checkAvailability(pluginObj, methodName);\n\n  if (availabilityCheck === true) {\n    const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n    return pluginInstance[methodName].apply(pluginInstance, args);\n  } else {\n    return availabilityCheck;\n  }\n}\n\nexport function callInstance(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {},\n  resolve?: Function,\n  reject?: Function\n) {\n  args = setIndex(args, opts, resolve, reject);\n\n  if (instanceAvailability(pluginObj, methodName)) {\n    return pluginObj._objectInstance[methodName].apply(pluginObj._objectInstance, args);\n  }\n}\n\nexport function getPlugin(pluginRef: string): any {\n  if (typeof window !== 'undefined') {\n    return get(window, pluginRef);\n  }\n  return null;\n}\n\nexport function get(element: Element | Window, path: string) {\n  const paths: string[] = path.split('.');\n  let obj: any = element;\n  for (let i = 0; i < paths.length; i++) {\n    if (!obj) {\n      return null;\n    }\n    obj = obj[paths[i]];\n  }\n  return obj;\n}\n\nexport function pluginWarn(pluginName: string, plugin?: string, method?: string): void {\n  if (method) {\n    console.warn(\n      'Native: tried calling ' +\n        pluginName +\n        '.' +\n        method +\n        ', but the ' +\n        pluginName +\n        ' plugin is not installed.'\n    );\n  } else {\n    console.warn(`Native: tried accessing the ${pluginName} plugin but it's not installed.`);\n  }\n  if (plugin) {\n    console.warn(`Install the ${pluginName} plugin: 'ionic cordova plugin add ${plugin}'`);\n  }\n}\n\n/**\n * @private\n * @param pluginName\n * @param method\n */\nexport function cordovaWarn(pluginName: string, method?: string): void {\n  if (typeof process === 'undefined') {\n    if (method) {\n      console.warn(\n        'Native: tried calling ' +\n          pluginName +\n          '.' +\n          method +\n          ', but Cordova is not available. Make sure to include cordova.js or run in a device/simulator'\n      );\n    } else {\n      console.warn(\n        'Native: tried accessing the ' +\n          pluginName +\n          ' plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator'\n      );\n    }\n  }\n}\n\n// Fixes a bug in TypeScript 2.9.2 where the ...args is being converted into args: {} and\n// causing compilation issues\nexport type WrapFn = (...args: any[]) => any;\n\n/**\n * @private\n */\nexport const wrap = (pluginObj: any, methodName: string, opts: CordovaOptions = {}): WrapFn => {\n  return (...args: any[]) => {\n    if (opts.sync) {\n      // Sync doesn't wrap the plugin with a promise or observable, it returns the result as-is\n      return callCordovaPlugin(pluginObj, methodName, args, opts);\n    } else if (opts.observable) {\n      return wrapObservable(pluginObj, methodName, args, opts);\n    } else if (opts.eventObservable && opts.event) {\n      return wrapEventObservable(opts.event, opts.element);\n    } else if (opts.otherPromise) {\n      return wrapOtherPromise(pluginObj, methodName, args, opts);\n    } else {\n      return wrapPromise(pluginObj, methodName, args, opts);\n    }\n  };\n};\n\n/**\n * @private\n */\nexport function wrapInstance(pluginObj: any, methodName: string, opts: any = {}): Function {\n  return (...args: any[]) => {\n    if (opts.sync) {\n      return callInstance(pluginObj, methodName, args, opts);\n    } else if (opts.observable) {\n      return new Observable(observer => {\n        let pluginResult;\n\n        if (opts.destruct) {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => observer.next(args),\n            (...args: any[]) => observer.error(args)\n          );\n        } else {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            observer.next.bind(observer),\n            observer.error.bind(observer)\n          );\n        }\n\n        if (pluginResult && pluginResult.error) {\n          observer.error(pluginResult.error);\n        }\n\n        return () => {\n          try {\n            if (opts.clearWithArgs) {\n              return callInstance(\n                pluginObj,\n                opts.clearFunction,\n                args,\n                opts,\n                observer.next.bind(observer),\n                observer.error.bind(observer)\n              );\n            }\n            return callInstance(pluginObj, opts.clearFunction, []);\n          } catch (e) {\n            console.warn(\n              'Unable to clear the previous observable watch for',\n              pluginObj.constructor.getPluginName(),\n              methodName\n            );\n            console.warn(e);\n          }\n        };\n      });\n    } else if (opts.otherPromise) {\n      return getPromise((resolve: Function, reject: Function) => {\n        let result;\n        if (opts.destruct) {\n          result = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => resolve(args),\n            (...args: any[]) => reject(args)\n          );\n        } else {\n          result = callInstance(pluginObj, methodName, args, opts, resolve, reject);\n        }\n        if (result && result.then) {\n          result.then(resolve, reject);\n        } else {\n          reject();\n        }\n      });\n    } else {\n      let pluginResult: any, rej: Function;\n      const p = getPromise((resolve: Function, reject: Function) => {\n        if (opts.destruct) {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => resolve(args),\n            (...args: any[]) => reject(args)\n          );\n        } else {\n          pluginResult = callInstance(pluginObj, methodName, args, opts, resolve, reject);\n        }\n        rej = reject;\n      });\n      // Angular throws an error on unhandled rejection, but in this case we have already printed\n      // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n      // to error\n      if (pluginResult && pluginResult.error) {\n        p.catch(() => {});\n        typeof rej === 'function' && rej(pluginResult.error);\n      }\n      return p;\n    }\n  };\n}\n"]}