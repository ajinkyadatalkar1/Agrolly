{"version":3,"file":"cordova-function-override.js","sourceRoot":"","sources":["../../../../src/@ionic-native/core/decorators/cordova-function-override.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAY,MAAM,MAAM,CAAC;AAE5C,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AAExD,SAAS,gBAAgB,CAAC,SAAc,EAAE,UAAkB;IAC1D,OAAO,IAAI,UAAU,CAAC,UAAC,QAAuB;QAC5C,IAAM,iBAAiB,GAAG,iBAAiB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAEnE,IAAI,iBAAiB,KAAK,IAAI,EAAE;YAC9B,IAAM,gBAAc,GAAG,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC;YACvE,gBAAc,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1D,OAAO,cAAM,OAAA,CAAC,gBAAc,CAAC,UAAU,CAAC,GAAG,cAAO,CAAC,CAAC,EAAvC,CAAuC,CAAC;SACtD;aAAM;YACL,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YAClC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SACrB;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,uBAAuB,CACrC,SAAc,EACd,UAAkB,EAClB,IAA6B;IAA7B,qBAAA,EAAA,SAA6B;IAE7B,OAAO,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AACjD,CAAC","sourcesContent":["import { Observable, Observer } from 'rxjs';\n\nimport { checkAvailability, getPlugin } from './common';\n\nfunction overrideFunction(pluginObj: any, methodName: string): Observable<any> {\n  return new Observable((observer: Observer<any>) => {\n    const availabilityCheck = checkAvailability(pluginObj, methodName);\n\n    if (availabilityCheck === true) {\n      const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n      pluginInstance[methodName] = observer.next.bind(observer);\n      return () => (pluginInstance[methodName] = () => {});\n    } else {\n      observer.error(availabilityCheck);\n      observer.complete();\n    }\n  });\n}\n\nexport function cordovaFunctionOverride(\n  pluginObj: any,\n  methodName: string,\n  args: IArguments | any[] = []\n) {\n  return overrideFunction(pluginObj, methodName);\n}\n"]}