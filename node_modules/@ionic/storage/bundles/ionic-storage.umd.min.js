!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("localforage"),require("localforage-cordovasqlitedriver")):"function"==typeof define&&define.amd?define("@ionic/storage",["exports","@angular/core","localforage","localforage-cordovasqlitedriver"],r):r((e.ionic=e.ionic||{},e.ionic.storage={}),e.ng.core,null,null)}(this,function(e,t,c,s){"use strict";var n=function(){function e(i){var u=this;this._driver=null,this._dbPromise=new Promise(function(e,r){var t,n={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},o=Object.assign(n,i||{});c.defineDriver(s).then(function(){t=c.createInstance(o)}).then(function(){return t.setDriver(u._getDriverOrder(o.driverOrder))}).then(function(){u._driver=t.driver(),e(t)})["catch"](function(e){return r(e)})})}return Object.defineProperty(e.prototype,"driver",{get:function(){return this._driver},enumerable:!0,configurable:!0}),e.prototype.ready=function(){return this._dbPromise},e.prototype._getDriverOrder=function(e){return e.map(function(e){switch(e){case"sqlite":return s._driver;case"indexeddb":return c.INDEXEDDB;case"websql":return c.WEBSQL;case"localstorage":return c.LOCALSTORAGE}})},e.prototype.get=function(r){return this._dbPromise.then(function(e){return e.getItem(r)})},e.prototype.set=function(r,t){return this._dbPromise.then(function(e){return e.setItem(r,t)})},e.prototype.remove=function(r){return this._dbPromise.then(function(e){return e.removeItem(r)})},e.prototype.clear=function(){return this._dbPromise.then(function(e){return e.clear()})},e.prototype.length=function(){return this._dbPromise.then(function(e){return e.length()})},e.prototype.keys=function(){return this._dbPromise.then(function(e){return e.keys()})},e.prototype.forEach=function(r){return this._dbPromise.then(function(e){return e.iterate(r)})},e}();var o=new t.InjectionToken("STORAGE_CONFIG_TOKEN");function i(e){return new n(e||{name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]})}var r=function(){function r(){}return r.forRoot=function(e){return void 0===e&&(e=null),{ngModule:r,providers:[{provide:o,useValue:e},{provide:n,useFactory:i,deps:[o]}]}},r.decorators=[{type:t.NgModule}],r}();e.StorageConfigToken=o,e.Storage=n,e.IonicStorageModule=r,e.Éµa=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ionic-storage.umd.min.js.map